<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<style type="text/css">

		</style>
	</head>
	<body>
		<div id="box">
			<div style="width: 100px;height: 100px; background: #ccc; position: absolute;" v-lee>


			</div>
		</div>
	</body>
	
	<script src="../js/vue.js"></script>
	<script type="text/javascript">
		Vue.directive('lee', function(a, b) {
			// var x = 0;
			// var y = 0;
			// var l = 0;
			// var t = 0;
			var isDown = false;
			a.onmousedown = function(e) {
				x = e.clientX;
				y = e.clientY;
				l = a.offsetLeft;
				t = a.offsetTop;
				isDown = true;
				a.style.cursor = 'move';
			}
			window.onmousemove = function(e) {
				if (isDown == false) {
					return;
				}
				var nx = e.clientX;
				var ny = e.clientY;
				var nl = nx - (x - l);
				var nt = ny - (y - t);
				a.style.left = nl + 'px';
				a.style.top = nt + 'px';
			}
			a.onmouseup = function() {
				isDown = false;
				a.style.cursor = 'default';
			}
		})
		new Vue({
			el: "#box",
			
		})
	</script>
</html>
